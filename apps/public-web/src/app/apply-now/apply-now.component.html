<!-- Show only success card if submitted -->
<ng-container *ngIf="submitted; else mainContent">
  <div
    class="min-h-screen flex items-center justify-center bg-neutral-50 text-neutral-900 [color-scheme:light]"
  >
    <div class="bg-white p-12 text-center max-w-lg">
      <h2 class="text-3xl font-extrabold mb-4">üéâ Application Submitted</h2>
      <p class="text-neutral-700 mb-6">
        Thanks ‚Äî we received your application. We review within 48 hours and will contact
        shortlisted applicants with the next steps.
      </p>

      <div class="flex flex-col sm:flex-row justify-center gap-4">
        <a
          href="/"
          class="inline-flex items-center justify-center px-6 py-3 rounded-lg border border-neutral-300 hover:bg-neutral-50"
          >Home</a
        >
        <button
          (click)="resetForm()"
          class="inline-flex items-center justify-center px-6 py-3 rounded-lg bg-emerald-600 text-white hover:bg-emerald-500"
        >
          Start another application
        </button>
      </div>
    </div>
  </div>
</ng-container>

<!-- Main content (hidden after submit) -->
<ng-template #mainContent>
  <main class="min-h-screen bg-neutral-50 text-neutral-900 [color-scheme:light]">
    <!-- Header -->
    <header
      class="sticky top-0 z-40 backdrop-blur supports-[backdrop-filter]:bg-white/70 border-b border-neutral-200"
    >
      <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
        <div class="flex items-center gap-3">
          <span
            class="inline-flex h-9 w-9 items-center justify-center rounded-xl bg-neutral-100 font-black text-lg"
            >‚öì</span
          >
          <span class="font-semibold tracking-tight">UI Pirate ‚Äî Elite Mentorship</span>
        </div>
        <div class="flex items-center gap-4">
          <a
            routerLink="/"
            class="rounded-2xl px-6 py-2 border border-neutral-300 hover:border-neutral-400 transition"
            >Home</a
          >
          <a
            routerLink="/login"
            class="rounded-2xl px-6 py-2 bg-emerald-600 hover:bg-emerald-500 text-white font-semibold transition"
            >Login</a
          >
        </div>
      </div>
    </header>

    <!-- Intro -->
    <div class="max-w-7xl mx-auto pt-12 pb-6 px-4">
      <h1 class="text-4xl font-extrabold mb-3">
        UI Pirate ‚Äì Global Mentorship Application (Pilot)
      </h1>
      <p class="text-neutral-700 leading-relaxed mb-10">
        Before you apply, read this carefully:<br /><br />
        This mentorship is for people who learn by doing real work. If you want theory, recorded
        videos, or someone to push you every day‚Äîyou will hate this. But if you want a mentor, real
        deadlines, real projects, and real growth‚Äîyou‚Äôre in the right place.
      </p>
    </div>

    <!-- Main Section -->
    <section class="max-w-7xl mx-auto px-4 pb-12 grid lg:grid-cols-3 gap-8">
      <!-- LEFT: Stepper & Form -->
      <div class="lg:col-span-2">
        <div class="bg-white border border-neutral-200 rounded-2xl p-6 shadow-sm">
          <div class="flex justify-between items-center">
            <h4 class="text-xl font-semibold">Application Form</h4>

            <!-- Stepper Controls -->
            <div class="flex items-center gap-2">
              <button
                type="button"
                (click)="prev()"
                [disabled]="step === 0"
                class="px-4 py-2 rounded-lg border border-neutral-300 hover:bg-neutral-50 disabled:opacity-50"
              >
                Back
              </button>

              <button
                *ngIf="step < 4"
                type="button"
                (click)="next()"
                [disabled]="!canProceed()"
                class="px-5 py-2 rounded-lg bg-emerald-600 text-white hover:bg-emerald-500 disabled:opacity-50"
              >
                Next
              </button>

              <button
                *ngIf="step === 4"
                type="button"
                (click)="submitForm()"
                [disabled]="!canProceed()"
                class="px-5 py-2 rounded-lg bg-emerald-700 text-white hover:bg-emerald-600 disabled:opacity-50"
              >
                Submit Application
              </button>
            </div>
          </div>

          <!-- Step 0 -->
          <div *ngIf="step === 0" class="space-y-4 mt-4">
            <h4 class="text-xl font-semibold">About You</h4>
            <label class="block text-sm">1. What should we call you?</label>
            <input
              type="text"
              [(ngModel)]="formData.name"
              name="name"
              class="w-full px-4 py-2 border rounded-lg"
              required
            />

            <label class="block text-sm">2. Where are you from and what‚Äôs your time zone?</label>
            <input
              type="text"
              [(ngModel)]="formData.location"
              name="location"
              class="w-full px-4 py-2 border rounded-lg"
              required
            />

            <label class="block text-sm">3. What are you doing right now?</label>
            <select
              [(ngModel)]="formData.status"
              name="status"
              class="w-full px-4 py-2 border rounded-lg"
              required
            >
              <option value="" disabled>Select one</option>
              <option>Studying</option>
              <option>Working</option>
              <option>Freelancing</option>
              <option>Switching career</option>
              <option>Jobless</option>
              <option>Something else</option>
            </select>
          </div>

          <!-- Step 1 -->
          <div *ngIf="step === 1" class="space-y-4 mt-4">
            <h4 class="text-xl font-semibold">Your Work</h4>
            <label class="block text-sm">4. Show us ANY work you‚Äôve done</label>
            <input
              type="url"
              [(ngModel)]="formData.workLink"
              name="workLink"
              placeholder="Figma / Behance / GitHub / Drive link"
              class="w-full px-4 py-2 border rounded-lg"
              required
            />
            <p class="text-xs text-neutral-500">
              ‚ö†Ô∏è Without this, we can‚Äôt consider your application.
            </p>
          </div>

          <!-- Step 2 -->
          <div *ngIf="step === 2" class="space-y-4 mt-4">
            <h4 class="text-xl font-semibold">Your Commitment</h4>
            <label class="block text-sm">5. How many hours per week can you commit?</label>
            <select
              [(ngModel)]="formData.hours"
              name="hours"
              class="w-full px-4 py-2 border rounded-lg"
              required
            >
              <option value="" disabled>Select one</option>
              <option>6‚Äì8 hours</option>
              <option>8‚Äì12 hours</option>
              <option>12+ hours</option>
            </select>

            <label class="block text-sm">6. Do you accept strict deadlines?</label>
            <select
              [(ngModel)]="formData.acceptDeadlines"
              name="acceptDeadlines"
              class="w-full px-4 py-2 border rounded-lg"
              required
            >
              <option value="" disabled>Select one</option>
              <option>Yes</option>
              <option>No</option>
            </select>
          </div>

          <!-- Step 3 -->
          <div *ngIf="step === 3" class="space-y-4 mt-4">
            <h4 class="text-xl font-semibold">Your Goal</h4>
            <label class="block text-sm">7. What do you want to achieve in 6 months?</label>
            <textarea
              [(ngModel)]="formData.goal"
              name="goal"
              rows="4"
              class="w-full px-4 py-2 border rounded-lg"
              required
            ></textarea>
          </div>

          <!-- Step 4 -->
          <div *ngIf="step === 4" class="space-y-4 mt-4">
            <h4 class="text-xl font-semibold">Money Reality & Final</h4>
            <label class="block text-sm">8. Ready to pay the mentorship fee?</label>
            <select
              [(ngModel)]="formData.readyToPay"
              name="readyToPay"
              class="w-full px-4 py-2 border rounded-lg"
              required
            >
              <option value="" disabled>Select one</option>
              <option>Yes</option>
              <option>No</option>
            </select>

            <label class="block text-sm"
              >9. Why should we consider you? (One honest sentence)</label
            >
            <textarea
              [(ngModel)]="formData.reason"
              name="reason"
              rows="3"
              class="w-full px-4 py-2 border rounded-lg"
              required
            ></textarea>

            <div class="mt-4 p-4 bg-emerald-50 border border-emerald-100 rounded-lg">
              <p>Scroll below and read the terms & conditions.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT: Info -->
      <aside class="space-y-6 md:sticky md:top-24">
        <div class="bg-white border border-neutral-200 rounded-2xl p-6 shadow-sm">
          <h4 class="text-lg font-semibold mb-2">Why this form matters</h4>
          <p class="text-neutral-700 text-sm leading-relaxed">
            We use this to find people who care more about work than talk. Your answers help us
            understand your intent, focus, and commitment.
          </p>

          <div
            class="mt-4 bg-emerald-50 border border-emerald-100 rounded-lg p-3 text-emerald-800 font-medium"
          >
            Only 30 people per batch. Quality over quantity. ‚öì Work. Don‚Äôt talk.
          </div>
        </div>
      </aside>
    </section>

    <!-- What You Will Get -->
    <div class="pt-8 max-w-7xl mx-auto px-4">
      <h2 class="text-2xl font-bold mb-4">‚úÖ WHAT YOU WILL GET</h2>
      <ul class="space-y-2 text-neutral-700">
        <li>‚úÖ Build a real SaaS product</li>
        <li>‚úÖ Redesign an industry-level app</li>
        <li>‚úÖ Create a professional portfolio</li>
        <li>‚úÖ Work with real deadlines & feedback</li>
        <li>‚úÖ Learn discipline, confidence, and execution</li>
      </ul>

      <h2 class="text-2xl font-bold mt-8 mb-4">‚ùå WHAT WE WILL NOT TEACH</h2>
      <ul class="space-y-2 text-neutral-700">
        <li>‚ùå Figma basics or Photoshop tutorials</li>
        <li>‚ùå Job guarantees or fake motivation</li>
        <li>‚ùå Attendance certificates</li>
        <li>‚ùå Excuses or laziness</li>
      </ul>

      <h2 class="text-2xl font-bold mt-8 mb-4">üí∞ ABOUT REFUND</h2>
      <p class="text-neutral-700">
        ‚úÖ If you finish, and get a job/client within 60 days ‚Üí 100% refund. Proof required (offer
        letter or payment). Refund rewards real execution, not excuses.
      </p>

      <div class="mt-8 bg-emerald-50 border border-emerald-100 p-4 rounded-lg text-emerald-800">
        <label class="inline-flex items-center gap-3">
          <input
            type="checkbox"
            [(ngModel)]="readConfirmation"
            name="readConfirmation"
            class="h-4 w-4"
          />
          <span class="text-sm text-neutral-700">I have read and accept the above message</span>
        </label>
        <p class="font-semibold mb-2">Final Message</p>
        <p>
          This mentorship will challenge you and change you. If you are ready to learn the hard,
          real, life-changing way ‚Äî submit this form. If not, please don‚Äôt apply.
        </p>
      </div>
    </div>

    <!-- Footer -->
    <footer class="border-t border-neutral-200 mt-12">
      <div
        class="max-w-7xl mx-auto px-4 py-8 text-sm text-neutral-500 flex flex-wrap items-center justify-between gap-4"
      >
        <p>¬© {{ currentYear }} UI Pirate. Work. Don‚Äôt talk.</p>
        <div class="flex items-center gap-4">
          <a routerLink="/" class="hover:text-neutral-700">Home</a>
          <a routerLink="/how-it-works" class="hover:text-neutral-700">How it works</a>
          <a routerLink="/terms" class="hover:text-neutral-700">Terms</a>
        </div>
      </div>
    </footer>
  </main>
</ng-template>
